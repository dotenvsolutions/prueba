<mat-toolbar color="primary" class="mat-elevation-z3" >
    <button mat-icon-button aria-label="Menu icon">
        <mat-icon>menu</mat-icon>
    </button>
    <h1> Usuario: {{dataUser.username}}</h1>
</mat-toolbar>
<mat-sidenav-container class="example-container" >
    <mat-sidenav opened="" [style.width]="'250px'" mode="side">
        Menu
        <app-sidenav-header/>
    </mat-sidenav>
    <mat-sidenav-content class="content">
        <h2>Bienvenido: {{dataUser.name}}</h2>
        <span class="spacer"></span>
        <a mat-button (click)="exportExcel()">
            <mat-icon>download_file</mat-icon>
            <span>Download</span>
        </a>
        <a mat-button>
            <input type="file" (change)="onFileChange($event)" accept=".xlsx, .xls, .csv">
            <mat-icon>upload_file</mat-icon>
            <span>Upload</span>
        </a>
        <div class="demo-button-container">
            <button mat-raised-button  [disabled]="!excelData.length" class="demo-button">
              Actualizar
            </button>
        </div>
        <div class="card-container" *ngIf="excelData.length==0">
          <mat-card >
            <mat-card-header>
              <mat-card-title>Datos del usuario</mat-card-title>
            </mat-card-header>
            <mat-card-content>
              <form class="form-custom" [formGroup]="formProfile" (submit)="updatedata()" >
                  <mat-form-field class="input-custom">
                    <mat-label>Nombres</mat-label>
                    <input type="text" matInput  formControlName="nombre">
                  </mat-form-field>
                  <mat-form-field class="input-custom">
                      <mat-label>Apellidos</mat-label>
                      <input type="text" matInput  formControlName="apellido">
                  </mat-form-field>
                  <mat-form-field class="input-custom">
                    <mat-label>Cedula</mat-label>
                    <input type="text" matInput  formControlName="cedula">
                </mat-form-field>
                  <mat-form-field class="input-custom">
                      <mat-label>Movil</mat-label>
                  <input type="text" matInput   formControlName="movil">
                  </mat-form-field>
                    <mat-form-field class="input-custom">
                      <mat-label>Fijo</mat-label>
                  <input type="text" matInput   formControlName="fijo">
                  </mat-form-field>
                  <mat-form-field class="input-custom">
                    <mat-label>Rol</mat-label>
                    <select matNativeControl formControlName="rol" >
                      <option  *ngFor="let r of listaRoles" [value]="r.id">{{r.label}}</option>
                    </select>
                  </mat-form-field>
                  <mat-form-field class="input-custom">
                    <mat-label>Direccion</mat-label>
                  <input type="text" matInput   formControlName="direccion">
                  </mat-form-field>
                 
                  <div class="flex">
                      <button mat-flat-button type="submit" color="primary" >Actualizar</button>
                  </div>
              </form>
            </mat-card-content>
          </mat-card>
        </div>
        
          <table mat-table [dataSource]="excelData" *ngIf="excelData.length>0" class="mat-elevation-z8 demo-table">
            <!-- Position Column -->
            <ng-container matColumnDef="nombres">
              <th mat-header-cell *matHeaderCellDef>Nombres.</th>
              <td mat-cell *matCellDef="let element">{{element.NOMBRE}}</td>
            </ng-container>
          
            <!-- Name Column -->
            <ng-container matColumnDef="apellidos">
              <th mat-header-cell *matHeaderCellDef>Apellidos</th>
              <td mat-cell *matCellDef="let element">{{element.APELLIDO}}</td>
            </ng-container>
          
            <!-- Weight Column -->
            <ng-container matColumnDef="identificacion">
              <th mat-header-cell *matHeaderCellDef>Identificacion</th>
              <td mat-cell *matCellDef="let element">{{element.CEDULA}}</td>
            </ng-container>
          
            <!-- Symbol Column -->
            <ng-container matColumnDef="movil">
              <th mat-header-cell *matHeaderCellDef>Movil</th>
              <td mat-cell *matCellDef="let element">{{element.MOVIL}}</td>
            </ng-container>
            <ng-container matColumnDef="fijo">
                <th mat-header-cell *matHeaderCellDef>Fijo</th>
                <td mat-cell *matCellDef="let element">{{element.FIJO}}</td>
              </ng-container>
              <ng-container matColumnDef="rol">
                <th mat-header-cell *matHeaderCellDef>Rol</th>
                <td mat-cell *matCellDef="let element">{{element.ROL}}</td>
              </ng-container>
          
            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
          </table>
    </mat-sidenav-content>
</mat-sidenav-container>